@tailwind base;
@tailwind components;
@tailwind utilities;

/* ========================================
   蓝白简约设计系统 - Apple/飞书风格
   ======================================== */

@layer base {
  :root {
    /* 核心蓝色 */
    --color-primary: 0 122 255;        /* Apple Blue #007AFF */
    --color-primary-hover: 0 102 204;  /* Darker Blue */
    --color-primary-light: 232 243 255; /* Light Blue Background */
    
    /* 文字色彩 */
    --color-text: 29 29 31;            /* #1d1d1f */
    --color-text-secondary: 134 134 139; /* #86868b */
    --color-text-muted: 174 174 178;   /* #aeaeb2 */
    
    /* 背景 */
    --color-bg: 255 255 255;           /* 纯白 */
    --color-bg-secondary: 245 245 247; /* #F5F5F7 */
    --color-bg-tertiary: 250 250 252;  /* 更浅的灰 */
    
    /* 边框 */
    --color-border: 210 210 215;       /* #d2d2d7 */
    --color-border-light: 229 229 234; /* #e5e5ea */
    
    /* 功能色 */
    --color-success: 52 199 89;        /* #34C759 */
    --color-warning: 255 149 0;        /* #FF9500 */
    --color-danger: 255 59 48;         /* #FF3B30 */
  }
  
  html {
    font-size: 15px;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }
  
  body {
    font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", "SF Pro Text", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", sans-serif;
    background-color: rgb(var(--color-bg-secondary));
    color: rgb(var(--color-text));
    line-height: 1.6;
    letter-spacing: -0.01em;
  }
  
  /* 精致滚动条 */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }
  
  ::-webkit-scrollbar-track {
    background: transparent;
  }
  
  ::-webkit-scrollbar-thumb {
    background: rgb(var(--color-border));
    border-radius: 100px;
    border: 2px solid transparent;
    background-clip: padding-box;
  }
  
  ::-webkit-scrollbar-thumb:hover {
    background: rgb(var(--color-text-secondary));
    border: 2px solid transparent;
    background-clip: padding-box;
  }

  /* 选中文本样式 - 蓝色 */
  ::selection {
    background: rgb(var(--color-primary) / 0.15);
  }
}

@layer components {
  /* ========================================
     消息气泡 - 蓝白风格
     ======================================== */
  
  /* 用户消息 - 蓝色气泡 */
  .message-user {
    @apply bg-[#007AFF] text-white;
    @apply px-5 py-3.5 rounded-2xl rounded-br-md;
    @apply text-[15px] leading-relaxed;
    @apply max-w-[80%];
    @apply shadow-sm;
  }
  
  /* 系统消息容器 - 白色卡片 */
  .message-system {
    @apply bg-white;
    @apply rounded-2xl;
    @apply border border-[#E5E5EA];
    @apply shadow-[0_2px_8px_rgba(0,0,0,0.04)];
    @apply p-6;
  }
  
  /* Agent 头像区 */
  .agent-avatar {
    @apply w-9 h-9 rounded-full;
    @apply bg-gradient-to-br from-[#007AFF] to-[#5856D6];
    @apply text-white;
    @apply flex items-center justify-center;
    @apply text-sm font-semibold;
    @apply shadow-sm;
  }
  
  .agent-name {
    @apply text-[14px] font-semibold text-[#1d1d1f];
  }
  
  .agent-title {
    @apply text-[12px] text-[#007AFF];
  }

  /* ========================================
     文本排版 - 层次分明
     ======================================== */
  
  .text-display {
    @apply text-[32px] font-semibold tracking-tight text-[#1d1d1f];
    @apply leading-[1.2];
  }
  
  .text-title {
    @apply text-[20px] font-semibold text-[#1d1d1f];
    @apply leading-[1.3] tracking-[-0.02em];
  }
  
  .text-heading {
    @apply text-[16px] font-semibold text-[#1d1d1f];
    @apply leading-[1.4];
  }
  
  .text-body {
    @apply text-[15px] text-[#1d1d1f];
    @apply leading-[1.7];
  }
  
  .text-body-secondary {
    @apply text-[14px] text-[#86868b];
    @apply leading-[1.6];
  }
  
  .text-caption {
    @apply text-[12px] text-[#aeaeb2];
    @apply leading-[1.5] tracking-[0.01em];
  }

  /* ========================================
     KPI 卡片 - 蓝白风格
     ======================================== */
  
  .kpi-card {
    @apply bg-gradient-to-br from-[#E8F3FF] to-[#F0F9FF] rounded-xl p-5;
    @apply border border-[#007AFF]/10;
  }
  
  .kpi-value {
    @apply text-[28px] font-semibold text-[#1d1d1f];
    @apply tracking-[-0.02em];
    font-variant-numeric: tabular-nums;
  }
  
  .kpi-label {
    @apply text-[13px] text-[#86868b] font-medium;
    @apply mb-1;
  }
  
  .kpi-trend {
    @apply text-[13px] font-medium;
    @apply flex items-center gap-1;
  }
  
  .kpi-trend-up {
    @apply text-[#34C759];
  }
  
  .kpi-trend-down {
    @apply text-[#FF3B30];
  }

  /* ========================================
     洞察卡片 - 蓝色左边框
     ======================================== */
  
  .insight-card {
    @apply rounded-xl p-4;
    @apply border-l-[3px];
  }
  
  .insight-card-info {
    @apply bg-[#E8F3FF]/50 border-l-[#007AFF];
  }
  
  .insight-card-success {
    @apply bg-[#E3FBE3]/50 border-l-[#34C759];
  }
  
  .insight-card-warning {
    @apply bg-[#FFF5E5]/50 border-l-[#FF9500];
  }
  
  .insight-title {
    @apply text-[14px] font-semibold mb-2;
  }
  
  .insight-content {
    @apply text-[14px] text-[#1d1d1f] leading-relaxed;
  }

  /* ========================================
     列表样式 - 蓝色点缀
     ======================================== */
  
  .list-item {
    @apply flex items-start gap-3 py-2;
  }
  
  .list-bullet {
    @apply w-1.5 h-1.5 rounded-full bg-[#007AFF];
    @apply mt-2 flex-shrink-0;
  }
  
  .list-number {
    @apply w-5 h-5 rounded-md bg-[#E8F3FF];
    @apply text-[11px] font-semibold text-[#007AFF];
    @apply flex items-center justify-center flex-shrink-0;
  }

  /* ========================================
     按钮系统 - 蓝色主题
     ======================================== */
  
  .btn-primary {
    @apply px-4 py-2 rounded-lg;
    @apply bg-[#007AFF] text-white;
    @apply text-[14px] font-medium;
    @apply hover:bg-[#0066CC];
    @apply transition-colors duration-150;
    @apply shadow-sm;
  }
  
  .btn-secondary {
    @apply px-4 py-2 rounded-lg;
    @apply bg-[#F5F5F7] text-[#1d1d1f];
    @apply text-[14px] font-medium;
    @apply hover:bg-[#E5E5EA];
    @apply transition-colors duration-150;
  }
  
  .btn-ghost {
    @apply px-3 py-1.5 rounded-md;
    @apply text-[#86868b];
    @apply text-[13px] font-medium;
    @apply hover:bg-[#007AFF]/10 hover:text-[#007AFF];
    @apply transition-colors duration-150;
  }
  
  /* 选择按钮组 - 蓝色悬停 */
  .choice-button {
    @apply px-4 py-2.5 rounded-xl;
    @apply bg-white border border-[#d2d2d7];
    @apply text-[14px] text-[#1d1d1f];
    @apply hover:border-[#007AFF] hover:text-[#007AFF];
    @apply transition-all duration-150;
    @apply cursor-pointer;
  }
  
  .choice-button:hover {
    @apply shadow-sm;
  }
  
  .choice-button-active {
    @apply bg-[#007AFF] text-white border-[#007AFF];
  }

  /* ========================================
     输入框 - 简洁聚焦蓝色
     ======================================== */
  
  .input-chat {
    @apply w-full px-5 py-4;
    @apply bg-white border border-[#d2d2d7] rounded-2xl;
    @apply text-[15px] text-[#1d1d1f];
    @apply placeholder:text-[#aeaeb2];
    @apply focus:outline-none focus:border-[#007AFF];
    @apply focus:ring-4 focus:ring-[#007AFF]/10;
    @apply transition-all duration-150;
  }

  /* ========================================
     图表容器
     ======================================== */
  
  .chart-container {
    @apply bg-white rounded-xl p-5;
    @apply border border-[#E5E5EA];
  }
  
  .chart-title {
    @apply text-[14px] font-semibold text-[#1d1d1f];
    @apply mb-4;
  }

  /* ========================================
     表格 - 简约数据表
     ======================================== */
  
  .table-minimal {
    @apply w-full text-[14px];
  }
  
  .table-minimal thead {
    @apply border-b border-[#E5E5EA];
  }
  
  .table-minimal th {
    @apply text-left py-3 px-4;
    @apply text-[12px] font-semibold text-[#86868b] uppercase tracking-wider;
  }
  
  .table-minimal td {
    @apply py-3 px-4 text-[#1d1d1f];
    @apply border-b border-[#F5F5F7];
  }
  
  .table-minimal tr:last-child td {
    @apply border-b-0;
  }
  
  .table-minimal tr:hover td {
    @apply bg-[#F5F5F7]/50;
  }

  /* ========================================
     加载状态 - 蓝色动画
     ======================================== */
  
  .loading-dots {
    @apply flex gap-1 items-center;
  }
  
  .loading-dot {
    @apply w-2 h-2 rounded-full bg-[#007AFF];
    animation: pulse-dot 1.4s infinite ease-in-out both;
  }
  
  .loading-dot:nth-child(1) { animation-delay: -0.32s; }
  .loading-dot:nth-child(2) { animation-delay: -0.16s; opacity: 0.6; }
  .loading-dot:nth-child(3) { animation-delay: 0s; opacity: 0.3; }
  
  @keyframes pulse-dot {
    0%, 80%, 100% { 
      opacity: 0.3;
      transform: scale(0.8);
    }
    40% { 
      opacity: 1;
      transform: scale(1);
    }
  }

  /* ========================================
     分割线
     ======================================== */
  
  .divider {
    @apply h-px bg-[#E5E5EA] my-6;
  }
  
  .divider-dashed {
    @apply border-t border-dashed border-[#d2d2d7] my-4;
  }

  /* ========================================
     卡片阴影系统
     ======================================== */
  
  .shadow-subtle {
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.04);
  }
  
  .shadow-card {
    box-shadow: 
      0 2px 8px rgba(0, 0, 0, 0.04),
      0 1px 2px rgba(0, 0, 0, 0.02);
  }
  
  .shadow-elevated {
    box-shadow: 
      0 8px 24px rgba(0, 0, 0, 0.08),
      0 2px 8px rgba(0, 0, 0, 0.04);
  }
}

@layer utilities {
  /* 文字渐变 - 蓝色 */
  .text-gradient-blue {
    @apply bg-clip-text text-transparent;
    @apply bg-gradient-to-r from-[#007AFF] to-[#5856D6];
  }
  
  /* 玻璃效果 */
  .glass {
    @apply backdrop-blur-xl bg-white/70;
    @apply border border-black/5;
  }
  
  /* 数字等宽 */
  .tabular-nums {
    font-variant-numeric: tabular-nums;
  }
  
  /* 隐藏滚动条但保持滚动功能 */
  .scrollbar-hidden {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  
  .scrollbar-hidden::-webkit-scrollbar {
    display: none;
  }
}
